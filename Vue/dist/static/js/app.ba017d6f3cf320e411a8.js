webpackJsonp([1],{"2aXz":function(t,e){},"609H":function(t,e){},"75l9":function(t,e){t.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},B5bS:function(t,e){},Ld4y:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("//Fk"),i=s.n(a),n=s("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},r,!1,function(t){s("609H")},null,null).exports,l=s("/ocq"),c={data:function(){return{loginForm:{userName:"",password:""},loginLoading:!1}},methods:{login:function(){var t=this;this.$refs.loginForm.validate(function(e){if(""!==t.loginForm.userName&&""!==t.loginForm.password||t.$message("账号或密码不能为空"),!e)return console.log("表单验证失败"),!1;t.loginLoading=!0,t.$axios.post("/login",t.loginForm).then(function(e){t.$message(e.data.msg),200==e.data.code?(t.loginLoading=!1,localStorage.setItem("token",e.data.data.token),t.$router.push("/")):(localStorage.removeItem("token"),t.loginLoading=!1)}).catch(function(e){t.loginLoading=!1,t.$message("网络故障")})})},doRegister:function(){this.$router.push("/register")},guestLogin:function(){}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"login__card"},[s("h2",{staticClass:"login__title"},[t._v("用户登录")]),t._v(" "),s("el-form",{ref:"loginForm",staticClass:"login__form",attrs:{model:t.loginForm,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.userName,callback:function(e){t.$set(t.loginForm,"userName",e)},expression:"loginForm.userName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticClass:"login__button",attrs:{type:"primary",loading:t.loginLoading},on:{click:t.login}},[t._v("登录")])],1),t._v(" "),s("div",{staticClass:"login__links"},[s("span",{on:{click:t.doRegister}},[t._v("注册")]),t._v(" "),s("span",{on:{click:t.guestLogin}},[t._v("游客登录")])])],1)],1)])},staticRenderFns:[]};var d=s("VU/8")(c,u,!1,function(t){s("QjWW")},"data-v-4d8d04b6",null).exports,m={data:function(){return{registerForm:{userName:"",password:"",confirmPassword:""},registerLoading:!1}},methods:{register:function(){var t=this;this.$refs.registerForm.validate(function(e){if(!e)return console.log("表单验证失败"),!1;t.registerForm.password===t.registerForm.confirmPassword?(t.registerLoading=!0,t.$axios.post("/register",t.registerForm).then(function(e){t.registerLoading=!1,t.$message(e.data.msg),200===e.data.code&&t.$axios.post("/login",{userName:t.registerForm.userName,password:t.registerForm.password}).then(function(e){localStorage.setItem("token",e.data.data.token),t.$router.push("/")}).catch(function(t){console.error("自动登录失败",t)})}).catch(function(e){t.registerLoading=!1,console.error("注册失败",e)})):t.$message.error("两次输入的密码不一致")})},toLogin:function(){this.$router.push("/")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"register__card"},[s("h2",{staticClass:"register__title"},[t._v("用户注册")]),t._v(" "),s("el-form",{ref:"registerForm",staticClass:"register__form",attrs:{model:t.registerForm,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.registerForm.userName,callback:function(e){t.$set(t.registerForm,"userName",e)},expression:"registerForm.userName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[s("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.registerForm.confirmPassword,callback:function(e){t.$set(t.registerForm,"confirmPassword",e)},expression:"registerForm.confirmPassword"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticClass:"register__button",attrs:{type:"primary",loading:t.registerLoading},on:{click:t.register}},[t._v("注册")])],1),t._v(" "),s("div",{staticClass:"register__links"},[s("span",{on:{click:t.toLogin}},[t._v("返回登录")])])],1)],1)])},staticRenderFns:[]};var p=s("VU/8")(m,v,!1,function(t){s("nKJl")},"data-v-fa68c294",null).exports,g={data:function(){return{userAvatar:"",isSidebarHidden:!1,isSidebarCollapsed:!1}},created:function(){var t=this;this.$axios.get("/user/profile").then(function(e){var s=e.data.data;null==s.avatar?t.userAvatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png":t.userAvatar=s.avatar}).catch(function(t){console.error("获取用户信息失败",t)})},methods:{toggleSidebar:function(){this.isSidebarHidden=!this.isSidebarHidden,this.isSidebarCollapsed=!this.isSidebarCollapsed},logout:function(){var t=this;this.$axios.get("/logout").then(function(){localStorage.removeItem("token"),t.$router.push("/login")}).catch(function(t){console.error("登出失败",t)})},navigateTo:function(t){"技术讨论"===t?this.$router.push("/techDiscussion"):"资源分享"===t?this.$router.push("/resource-sharing"):"问题求助"===t?this.$router.push("/"):"我的问题"===t?this.$router.push("/myQuestions"):"我的收藏"===t?this.$router.push("/my-collect"):"我的文章"===t?this.$router.push("/my-articles"):"个人设置"===t&&this.$router.push("/profileSettings")}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forum"},[s("div",{staticClass:"sidebar"},[s("div",{staticClass:"sidebar__header"},[s("img",{staticClass:"sidebar__avatar",attrs:{src:t.userAvatar,alt:"用户头像"}})]),t._v(" "),s("el-menu",{staticClass:"sidebar__menu",attrs:{"default-openeds":["1","2","3"]}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),t._v(" "),s("span",[t._v("帖子分类")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-1"},on:{click:function(e){return t.navigateTo("问题求助")}}},[t._v("问题求助")]),t._v(" "),s("el-menu-item",{attrs:{index:"1-2"},on:{click:function(e){return t.navigateTo("技术讨论")}}},[t._v("技术讨论")]),t._v(" "),s("el-menu-item",{attrs:{index:"1-3"},on:{click:function(e){return t.navigateTo("资源分享")}}},[t._v("资源分享")])],2),t._v(" "),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-user"}),t._v(" "),s("span",[t._v("个人中心")])]),t._v(" "),s("el-menu-item",{attrs:{index:"2-1"},on:{click:function(e){return t.navigateTo("我的问题")}}},[t._v("我的问题")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-2"},on:{click:function(e){return t.navigateTo("我的收藏")}}},[t._v("我的收藏")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-3"},on:{click:function(e){return t.navigateTo("我的文章")}}},[t._v("我的文章")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-4"},on:{click:function(e){return t.navigateTo("个人设置")}}},[t._v("个人设置")])],2),t._v(" "),s("el-menu-item",{attrs:{index:"3"},on:{click:t.logout}},[s("i",{staticClass:"el-icon-switch-button"}),t._v(" "),s("span",[t._v("登出")])])],1)],1),t._v(" "),s("div",{staticClass:"main"},[s("router-view")],1)])},staticRenderFns:[]};var f=s("VU/8")(g,h,!1,function(t){s("B5bS")},"data-v-1b363908",null).exports,_={data:function(){return{name:"",bio:"",industry:"",avatar:"",showAvatarModal:!1,showPasswordModal:!1,currentPassword:"",newPasswordModal:"",confirmPasswordModal:"",data:{userName:"",profile:"",trade:"",avatar:""}}},created:function(){var t=this;this.$axios.get("/user/profile").then(function(e){var s=e.data.data;t.name=s.userName,null==s.profile?t.bio="这个人很懒，什么都没有写~~":t.bio=s.profile,t.industry=s.trade,null==s.avatar?t.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png":t.avatar=s.avatar}).catch(function(t){console.error("获取用户信息失败",t)})},methods:{openAvatarModal:function(){this.showAvatarModal=!0},handleAvatarChange:function(t){var e=this,s=t.target.files[0],a=new FileReader;a.onload=function(t){e.avatar=t.target.result},a.readAsDataURL(s),this.closeAvatarModal()},closeAvatarModal:function(){this.showAvatarModal=!1},saveSettings:function(){var t=this;this.data.userName=this.name,this.data.profile=this.bio,this.data.trade=this.industry,this.data.avatar=this.avatar,this.$axios.post("/user/save",this.data).then(function(e){t.$message(e.data.msg),window.location.reload()})},showChangePasswordModal:function(){this.showPasswordModal=!0},closeChangePasswordModal:function(){this.showPasswordModal=!1,this.currentPassword="",this.newPasswordModal="",this.confirmPasswordModal=""},changePassword:function(){var t=this;this.newPasswordModal!==this.confirmPasswordModal?this.$message("两次输入的密码不一致"):(this.$axios.post("/user/changePassword",{oldPassword:this.currentPassword,newPassword:this.newPasswordModal}).then(function(e){t.$message(e.data.msg)}),this.closeChangePasswordModal())}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile-settings"},[s("h2",{staticClass:"profile-settings__title"},[t._v("个人设置")]),t._v(" "),s("div",{staticClass:"profile-settings__avatar",on:{click:t.openAvatarModal}},[s("img",{staticClass:"profile-settings__avatar-img",attrs:{src:t.avatar,alt:"User Avatar"}})]),t._v(" "),s("form",{staticClass:"profile-settings__form"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-input",attrs:{type:"text",id:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"bio"}},[t._v("个人简介")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bio,expression:"bio"}],staticClass:"form-textarea",attrs:{id:"bio",maxlength:20},domProps:{value:t.bio},on:{input:function(e){e.target.composing||(t.bio=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"industry"}},[t._v("所在行业")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.industry,expression:"industry"}],staticClass:"form-input",attrs:{type:"text",id:"industry"},domProps:{value:t.industry},on:{input:function(e){e.target.composing||(t.industry=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-actions"},[s("button",{staticClass:"btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:t.showChangePasswordModal}},[t._v("修改密码")])])]),t._v(" "),t.showPasswordModal?s("div",{staticClass:"password-modal"},[s("div",{staticClass:"password-modal__content"},[s("h3",{staticClass:"password-modal__title"},[t._v("修改密码")]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"current-password"}},[t._v("当前密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"form-input",attrs:{type:"password",id:"current-password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"new-password-modal"}},[t._v("新密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPasswordModal,expression:"newPasswordModal"}],staticClass:"form-input",attrs:{type:"password",id:"new-password-modal"},domProps:{value:t.newPasswordModal},on:{input:function(e){e.target.composing||(t.newPasswordModal=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"confirm-password-modal"}},[t._v("确认密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPasswordModal,expression:"confirmPasswordModal"}],staticClass:"form-input",attrs:{type:"password",id:"confirm-password-modal"},domProps:{value:t.confirmPasswordModal},on:{input:function(e){e.target.composing||(t.confirmPasswordModal=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-actions"},[s("button",{staticClass:"btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.changePassword.apply(null,arguments)}}},[t._v("确认")]),t._v(" "),s("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:t.closeChangePasswordModal}},[t._v("取消")])])])]):t._e(),t._v(" "),t.showAvatarModal?s("div",{staticClass:"avatar-modal"},[s("div",{staticClass:"avatar-modal__content"},[s("h3",{staticClass:"avatar-modal__title"},[t._v("修改头像")]),t._v(" "),s("div",{staticClass:"avatar-modal__upload"},[s("label",{staticClass:"avatar-modal__upload-label",attrs:{for:"avatar-upload"}},[s("input",{attrs:{type:"file",id:"avatar-upload",accept:"image/*"},on:{change:t.handleAvatarChange}}),t._v("\n          选择图片\n        ")])]),t._v(" "),s("button",{staticClass:"avatar-modal__cancel",on:{click:t.closeAvatarModal}},[t._v("取消")])])]):t._e()])},staticRenderFns:[]};var b=s("VU/8")(_,w,!1,function(t){s("c/4b")},"data-v-73e3d1e6",null).exports,C=s("zL8q"),q=s.n(C),x={components:{"el-badge":C.ElBadge},data:function(){return{questions:[{questionId:"",title:"",description:"",userName:"",avatar:"",time:"",answers:""}],currentPage:1,pageSize:5,dialogVisible:!1,newQuestion:{title:"",description:""}}},computed:{displayedQuestions:function(){var t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.questions.slice(t,e)}},methods:{navigateToAnswers:function(t){this.$router.push({name:"QuestionAnswers",params:{id:t}})},getRandomColor:function(){var t=["question-color-1","question-color-2","question-color-3","question-color-4","question-color-5"];return t[Math.floor(Math.random()*t.length)]},handlePageChange:function(t){this.currentPage=t},showQuestionDialog:function(){this.dialogVisible=!0},submitQuestion:function(){var t=this,e={title:this.newQuestion.title,description:this.newQuestion.description};this.$axios.post("/submit-question",e).then(function(e){console.log("问题提交成功:",e.data),t.$axios.get("/questions").then(function(e){t.questions=e.data.data,t.questions.forEach(function(t){t.avatar||(t.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("获取问题列表失败:",t)}),t.$message(e.data.msg)}).catch(function(e){console.error("问题提交失败:",e),t.$message.error("问题提交失败，请重试！")}).finally(function(){t.dialogVisible=!1})}},created:function(){var t=this;this.$axios.get("/questions").then(function(e){t.questions=e.data.data,t.questions.forEach(function(t){t.avatar||(t.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("获取问题列表失败:",t)})}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question-list"},[t._l(t.displayedQuestions,function(e){return s("el-card",{key:e.questionId,class:["question-card",t.getRandomColor()],on:{click:function(s){return s.stopPropagation(),t.navigateToAnswers(e.questionId)}}},[s("div",{staticClass:"question-avatar-username"},[s("div",{staticClass:"question-user-avatar"},[s("img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:"User Avatar"}})]),t._v(" "),s("div",{staticClass:"question-username"},[t._v(t._s(e.userName))])]),t._v(" "),s("div",{staticClass:"question-details"},[s("div",{staticClass:"question-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"question-description"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"question-actions"},[s("div",{staticClass:"question-actions-left"},[s("el-badge",{attrs:{value:e.answers}},[s("el-button",{staticClass:"answer-button",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return s.stopPropagation(),t.navigateToAnswers(e.questionId)}}})],1),t._v(" "),s("span",{staticClass:"question-answers"},[t._v(t._s(e.answers)+" 回答")])],1),t._v(" "),s("div",{staticClass:"question-actions-right"},[s("span",{staticClass:"question-time"},[t._v("发布时间: "+t._s(e.time))])])])])])}),t._v(" "),s("el-button",{staticClass:"ask-button",attrs:{type:"primary"},on:{click:t.showQuestionDialog}},[t._v("我要提问")]),t._v(" "),s("el-dialog",{attrs:{title:"提出问题",visible:t.dialogVisible,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",{ref:"questionForm",attrs:{model:t.newQuestion,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"问题标题",required:""}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"请输入问题标题"},model:{value:t.newQuestion.title,callback:function(e){t.$set(t.newQuestion,"title",e)},expression:"newQuestion.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"问题详细描述",required:""}},[s("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入问题详细描述"},model:{value:t.newQuestion.description,callback:function(e){t.$set(t.newQuestion,"description",e)},expression:"newQuestion.description"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitQuestion}},[t._v("提交")])],1)],1)],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.questions.length,layout:"prev, pager, next"},on:{"current-change":t.handlePageChange}})],2)},staticRenderFns:[]};var k=s("VU/8")(x,y,!1,function(t){s("W/46")},"data-v-cdd2ad28",null).exports,P={data:function(){return{question:{id:null,title:"",user:{userName:"",avatar:"https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png"},time:"",description:""},answers:[],showAnswerForm:!1,newAnswer:{content:""},currentPage:1,pageSize:10}},computed:{paginatedAnswers:function(){var t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.answers.slice(t,e)}},mounted:function(){this.fetchQuestion(),this.fetchAnswers()},methods:{fetchQuestion:function(){var t=this,e=this.$route.params.id;this.$axios.get("/questions/"+e).then(function(e){t.question=e.data.data,t.question.user.avatar||(t.question.user.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")}).catch(function(t){console.error("Failed to fetch question:",t)})},fetchAnswers:function(){var t=this,e=this.$route.params.id;this.$axios.get("/questions/"+e+"/answers").then(function(e){t.answers=e.data.data,t.answers.forEach(function(t){t.user.avatar||(t.user.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("Failed to fetch answers:",t)})},show:function(){this.showAnswerForm=!0},resetAnswerForm:function(){this.newAnswer.content=""},handlePageChange:function(t){this.currentPage=t},getCardStyle:function(t){var e=["#ffe5d9","#e8f0fe","#fdeaf4","#eaf5fe","#f3fee1","#fce4e7","#f2f8ed","#fffef3","#e9f1f3","#fff3db"];return{backgroundColor:e[t%e.length]}},submitAnswer:function(){var t=this,e=this.$route.params.id,s={content:this.newAnswer.content,releaseTime:(new Date).toLocaleString()};this.$axios.post("questions/"+e+"/postanswers",s).then(function(e){t.showAnswerForm=!1,t.$message.success("回答提交成功"),t.fetchAnswers()}).catch(function(e){console.error("Failed to submit answer:",e),t.$message.error("回答提交失败")})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question-answers-page"},[s("div",{staticClass:"question-details"},[s("div",{staticClass:"question-user-info"},[s("img",{staticClass:"user-avatar",attrs:{src:t.question.user.avatar,alt:"User Avatar"}}),t._v(" "),s("span",{staticClass:"question-username"},[t._v(t._s(t.question.user.userName))])]),t._v(" "),s("h2",{staticClass:"question-title"},[t._v(t._s(t.question.title))]),t._v(" "),s("div",{staticClass:"question-info"},[s("span",{staticClass:"question-time"},[t._v(t._s(t.question.time))])]),t._v(" "),s("p",{staticClass:"question-description"},[t._v(t._s(t.question.description))])]),t._v(" "),s("div",{staticClass:"answers-list"},t._l(t.paginatedAnswers,function(e,a){return s("div",{key:e.answerID,staticClass:"answer-card",style:t.getCardStyle(a)},[s("div",{staticClass:"answer-user-info"},[s("img",{staticClass:"user-avatar",attrs:{src:e.user.avatar,alt:"User Avatar"}}),t._v(" "),s("span",{staticClass:"answer-username"},[t._v(t._s(e.user.userName))])]),t._v(" "),s("div",{staticClass:"answer-content"},[s("p",[t._v(t._s(e.content))]),t._v(" "),s("div",{staticClass:"answer-info"},[s("span",{staticClass:"answer-time"},[t._v(t._s(e.releaseTime))])])])])}),0),t._v(" "),s("button",{staticClass:"answer-button",on:{click:t.show}},[t._v("回答")]),t._v(" "),s("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.answers.length},on:{"current-change":t.handlePageChange}}),t._v(" "),s("el-dialog",{attrs:{title:"回答问题",visible:t.showAnswerForm,width:"30%"},on:{"update:visible":function(e){t.showAnswerForm=e},close:t.resetAnswerForm}},[s("el-form",{ref:"answerForm",attrs:{model:t.newAnswer,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"回答内容",required:""}},[s("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入回答内容"},model:{value:t.newAnswer.content,callback:function(e){t.$set(t.newAnswer,"content",e)},expression:"newAnswer.content"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitAnswer}},[t._v("提交回答")])],1)],1)],1)],1)},staticRenderFns:[]};var A=s("VU/8")(P,$,!1,function(t){s("Ld4y")},"data-v-358c691d",null).exports,F={data:function(){return{questions:[{questionId:"",title:"",description:"",userName:"",avatar:"",time:"",answers:""}],currentPage:1,pageSize:5}},computed:{displayedQuestions:function(){var t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.questions.slice(t,e)}},methods:{navigateToAnswers:function(t){this.$router.push({name:"QuestionAnswers",params:{id:t}})},getRandomColor:function(){var t=["question-color-1","question-color-2","question-color-3","question-color-4","question-color-5"];return t[Math.floor(Math.random()*t.length)]},handlePageChange:function(t){this.currentPage=t},deleteQuestion:function(t){var e=this;this.$axios.delete("/questions/"+t).then(function(s){e.questions=e.questions.filter(function(e){return e.questionId!==t}),e.$message.success("问题删除成功！")}).catch(function(t){console.error("删除问题失败:",t),e.$message.error("问题删除失败！")})}},created:function(){var t=this;this.$axios.get("/myquestions").then(function(e){t.questions=e.data.data,t.questions.forEach(function(t){t.avatar||(t.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("获取问题列表失败:",t)})}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question-list"},[t._l(t.displayedQuestions,function(e){return s("div",{key:e.questionId,class:["question-card",t.getRandomColor()]},[s("div",{staticClass:"question-avatar-username"},[s("div",{staticClass:"question-user-avatar"},[s("img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:"User Avatar"}})]),t._v(" "),s("div",{staticClass:"question-username"},[t._v(t._s(e.userName))])]),t._v(" "),s("div",{staticClass:"question-details"},[s("div",{staticClass:"question-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"question-description"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"question-actions"},[s("div",{staticClass:"question-actions-left"},[s("el-button",{staticClass:"answer-button",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return s.stopPropagation(),t.navigateToAnswers(e.questionId)}}}),t._v(" "),s("span",{staticClass:"question-answers"},[t._v(t._s(e.answers)+" 回答")])],1),t._v(" "),s("div",{staticClass:"question-actions-right"},[s("span",{staticClass:"question-time"},[t._v("发布时间: "+t._s(e.time))]),t._v(" "),s("i",{staticClass:"el-icon-delete delete-icon",on:{click:function(s){return s.stopPropagation(),t.deleteQuestion(e.questionId)}}})])])])])}),t._v(" "),s("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.questions.length,layout:"prev, pager, next"},on:{"current-change":t.handlePageChange}})],2)},staticRenderFns:[]};var S=s("VU/8")(F,M,!1,function(t){s("2aXz")},"data-v-196a44e5",null).exports,N={components:{"el-badge":C.ElBadge},data:function(){return{articles:[{articleId:"",title:"",description:"",user:{userName:"",avatar:""},time:"",answers:""}],currentPage:1,pageSize:5,dialogVisible:!1,newarticle:{title:"",description:""}}},computed:{displayedarticles:function(){var t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.articles.slice(t,e)}},methods:{navigateToAnswers:function(t){this.$router.push({name:"articleAnswers",params:{id:t}})},getRandomColor:function(){var t=["article-color-1","article-color-2","article-color-3","article-color-4","article-color-5"];return t[Math.floor(Math.random()*t.length)]},handlePageChange:function(t){this.currentPage=t},showarticleDialog:function(){this.dialogVisible=!0},submitarticle:function(){var t=this,e={title:this.newarticle.title,description:this.newarticle.description};this.$axios.post("/submit-article",e).then(function(e){console.log("文章提交成功:",e.data),t.$axios.get("/articles").then(function(e){t.articles=e.data.data,t.articles.forEach(function(t){t.user.avatar||(t.user.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("获取文章列表失败:",t)}),t.$message(e.data.msg)}).catch(function(e){console.error("文章提交失败:",e),t.$message.error("文章提交失败，请重试！")}).finally(function(){t.dialogVisible=!1})}},created:function(){var t=this;this.$axios.get("/articles").then(function(e){t.articles=e.data.data,t.articles.forEach(function(t){t.user.avatar||(t.user.avatar="https://scott-gc.oss-cn-hangzhou.aliyuncs.com/img/202306041932702.png")})}).catch(function(t){console.error("获取文章列表失败:",t)})}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article-list"},[t._l(t.displayedArticles,function(e){return s("el-card",{key:e.articleId,class:["article-card",t.getRandomColor()],on:{click:function(s){return s.stopPropagation(),t.navigateToAnswers(e.articleId)}}},[s("div",{staticClass:"article-avatar-username"},[s("div",{staticClass:"article-user-avatar"},[s("img",{staticClass:"user-avatar",attrs:{src:e.user.avatar,alt:"User Avatar"}})]),t._v(" "),s("div",{staticClass:"article-username"},[t._v(t._s(e.user.userName))])]),t._v(" "),s("div",{staticClass:"article-details"},[s("div",{staticClass:"article-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"article-description"},[t._v(t._s(e.description))]),t._v(" "),s("div",{staticClass:"article-actions"},[s("div",{staticClass:"article-actions-left"},[s("el-badge",{attrs:{value:e.answers}},[s("el-button",{staticClass:"answer-button",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return s.stopPropagation(),t.navigateToAnswers(e.articleId)}}})],1),t._v(" "),s("span",{staticClass:"article-answers"},[t._v(t._s(e.answers)+" 评论")])],1),t._v(" "),s("div",{staticClass:"article-actions-right"},[s("span",{staticClass:"article-time"},[t._v("发布时间: "+t._s(e.time))])])])])])}),t._v(" "),s("el-button",{staticClass:"ask-button",attrs:{type:"primary"},on:{click:t.showarticleDialog}},[t._v("随笔")]),t._v(" "),s("el-dialog",{attrs:{title:"随笔",visible:t.dialogVisible,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",{ref:"articleForm",attrs:{model:t.newarticle,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"文章标题",required:""}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"请输入文章标题"},model:{value:t.newarticle.title,callback:function(e){t.$set(t.newarticle,"title",e)},expression:"newarticle.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"文章内容",required:""}},[s("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入文章主体"},model:{value:t.newarticle.description,callback:function(e){t.$set(t.newarticle,"description",e)},expression:"newarticle.description"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitarticle}},[t._v("提交")])],1)],1)],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.articles.length,layout:"prev, pager, next"},on:{"current-change":t.handlePageChange}})],2)},staticRenderFns:[]};var Q=s("VU/8")(N,z,!1,function(t){s("qAoj")},"data-v-0600623e",null).exports;n.default.use(l.a);var j=new l.a({routes:[{path:"/login",name:"login",component:d},{path:"/register",name:"register",component:p},{path:"/",name:"forumLayout",component:f,children:[{path:"techDiscussion",name:"tTechDiscussion",component:Q},{path:"myQuestions",name:"myQuestions",component:S},{path:"/question/:id",name:"QuestionAnswers",component:A},{path:"/",name:"QuestionHelp",component:k},{path:"profileSettings",name:"ProfileSettings",component:b}]}]});j.beforeEach(function(t,e,s){var a=localStorage.getItem("token");a||"/login"===t.path||"/register"===t.path?a&&"/login"===t.path?s("/"):s():s("/login")});var L=j,T=(s("tvR6"),s("mtWM"));T.defaults.baseURL="http://172.24.65.59:9000/api",n.default.prototype.$axios=T,T.interceptors.request.use(function(t){var e=localStorage.getItem("token");return e&&(t.headers.token=""+e),t},function(t){return i.a.reject(t)}),n.default.config.productionTip=!1,n.default.use(q.a),new n.default({el:"#app",router:L,components:{App:o},template:"<App/>"})},QjWW:function(t,e){},"W/46":function(t,e){},"c/4b":function(t,e){},nKJl:function(t,e){},qAoj:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ba017d6f3cf320e411a8.js.map